<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Anniversary - Enhanced</title>
    <style>
      :root {
        --primary-pink: #e91e63;
        --primary-purple: #9c27b0;
        --primary-blue: #2196f3;
        --card-bg: rgba(255, 255, 255, 0.1);
        --card-border: rgba(255, 255, 255, 0.2);
        --light-text: #ffffff;
        --muted-text: rgba(255, 255, 255, 0.7);
        --shadow-subtle: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-elevated: 0 10px 20px rgba(0, 0, 0, 0.2);
        --transition: all 0.3s ease;
        --gradient-bg: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
        --gradient-primary: linear-gradient(
          45deg,
          var(--primary-pink),
          var(--primary-purple)
        );
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", "Arial", sans-serif;
      }

      body {
        background: var(--gradient-bg);
        color: white;
        min-height: 100vh;
        overflow-x: hidden;
        position: relative;
      }

      /* Enhanced Background Animations */
      #hearts-container,
      #petals-container,
      #sparkles-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .heart,
      .petal,
      .sparkle {
        position: absolute;
        opacity: 0.7;
      }

      .sparkle {
        width: 4px;
        height: 4px;
        background: white;
        border-radius: 50%;
        animation: sparkle 3s infinite;
      }

      @keyframes sparkle {
        0%,
        100% {
          opacity: 0;
          transform: scale(0);
        }
        50% {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* Enhanced Header */
      .header {
        text-align: center;
        padding: 40px 20px 20px;
        position: relative;
      }

      .header h1 {
        font-size: 3.5rem;
        margin-bottom: 15px;
        text-shadow: 0 0 15px rgba(233, 30, 99, 0.7);
        animation: pulse 2s infinite, glow 3s infinite alternate;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        display: inline-block;
      }

      @keyframes glow {
        0% {
          text-shadow: 0 0 10px rgba(233, 30, 99, 0.5);
        }
        100% {
          text-shadow: 0 0 20px rgba(233, 30, 99, 0.8),
            0 0 30px rgba(156, 39, 176, 0.6);
        }
      }

      .anniversary-date {
        font-size: 1.2rem;
        margin-bottom: 10px;
        color: var(--muted-text);
        font-weight: 300;
      }

      .days-counter {
        font-size: 1.5rem;
        margin-bottom: 20px;
        color: var(--primary-pink);
        font-weight: bold;
      }

      /* Enhanced Intro Text */
      .intro-text {
        font-size: 1.2rem;
        max-width: 800px;
        margin: 0 auto 40px;
        line-height: 1.6;
        opacity: 0.9;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        box-shadow: var(--shadow-subtle);
        border-left: 4px solid var(--primary-pink);
      }

      /* Enhanced Buttons */
      .btn {
        padding: 12px 25px;
        background: var(--gradient-primary);
        border: none;
        border-radius: 50px;
        color: white;
        font-size: 1rem;
        cursor: pointer;
        transition: var(--transition);
        margin: 10px;
        text-decoration: none;
        display: inline-block;
        font-weight: 500;
        box-shadow: 0 4px 10px rgba(233, 30, 99, 0.3);
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 7px 15px rgba(233, 30, 99, 0.4);
      }

      .btn:active {
        transform: translateY(-1px);
      }

      .glow-btn {
        box-shadow: 0 0 15px rgba(233, 30, 99, 0.5);
      }

      .feature-buttons {
        margin-top: 40px;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
      }

      /* Enhanced Feature Navigation */
      .feature-nav {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 30px 0;
        flex-wrap: wrap;
        background: rgba(255, 255, 255, 0.05);
        padding: 15px;
        border-radius: 12px;
        box-shadow: var(--shadow-subtle);
      }

      .feature-nav-btn {
        padding: 12px 20px;
        background: rgba(30, 30, 45, 0.7);
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        border: 1px solid transparent;
        font-weight: 500;
      }

      .feature-nav-btn:hover {
        background: rgba(40, 40, 60, 0.9);
        transform: translateY(-2px);
      }

      .feature-nav-btn.active {
        background: var(--primary-pink);
        box-shadow: 0 4px 10px rgba(233, 30, 99, 0.3);
      }

      /* Enhanced Feature Sections */
      .feature-section {
        display: none;
        animation: fadeInElegant 0.5s;
      }

      .feature-section.active {
        display: block;
      }

      @keyframes fadeInElegant {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Enhanced Cards */
      .card {
        background: var(--card-bg);
        padding: 25px;
        border-radius: 12px;
        margin: 20px 0;
        box-shadow: var(--shadow-subtle);
        border: 1px solid var(--card-border);
        transition: var(--transition);
      }

      .card:hover {
        box-shadow: var(--shadow-elevated);
        transform: translateY(-5px);
      }

      .card h2 {
        margin-bottom: 15px;
        color: var(--light-text);
        font-size: 1.8rem;
        text-align: center;
      }

      /* Enhanced Love Calculator */
      .love-calculator .love-inputs {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .love-calculator input {
        padding: 12px 15px;
        border-radius: 8px;
        border: 1px solid var(--card-border);
        background: rgba(30, 30, 45, 0.7);
        color: var(--light-text);
        font-size: 1rem;
        width: 180px;
        text-align: center;
        transition: var(--transition);
      }

      .love-calculator input:focus {
        outline: none;
        border-color: var(--primary-pink);
        box-shadow: 0 0 0 2px rgba(233, 30, 99, 0.2);
      }

      .love-result {
        font-size: 1.5rem;
        margin: 20px 0;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }

      .love-meter {
        width: 100%;
        height: 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        margin: 15px 0;
        overflow: hidden;
      }

      .love-fill {
        height: 100%;
        background: var(--gradient-primary);
        border-radius: 10px;
        transition: width 1s ease;
        width: 0%;
        position: relative;
        overflow: hidden;
      }

      .love-fill::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        animation: shimmer 2s infinite;
      }

      @keyframes shimmer {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      /* Enhanced Heartbeat Visualization */
      #heartbeat-container {
        margin: 40px auto;
        text-align: center;
      }

      .heartbeat-visual {
        position: relative;
        width: 120px;
        height: 120px;
        margin: 0 auto 20px;
      }

      .pulse-ring {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 2px solid var(--primary-pink);
        border-radius: 50%;
        animation: pulse-ring 2s infinite;
        opacity: 0;
      }

      .pulse-ring:nth-child(2) {
        animation-delay: 0.5s;
      }

      .pulse-ring:nth-child(3) {
        animation-delay: 1s;
      }

      @keyframes pulse-ring {
        0% {
          transform: scale(0.8);
          opacity: 1;
        }
        100% {
          transform: scale(1.5);
          opacity: 0;
        }
      }

      .heart-icon {
        font-size: 3.5rem;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: heartbeat 1.5s infinite;
        text-shadow: 0 0 15px rgba(233, 30, 99, 0.7);
      }

      @keyframes heartbeat {
        0% {
          transform: translate(-50%, -50%) scale(1);
        }
        50% {
          transform: translate(-50%, -50%) scale(1.1);
        }
        100% {
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .quote-text {
        font-style: italic;
        font-size: 1.2rem;
        margin-top: 10px;
        opacity: 0.9;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      /* Enhanced Music Controls */
      #music-controls {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 100;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      #music-toggle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #music-toggle:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.1);
      }

      #music-toggle.playing {
        background: var(--primary-pink);
        box-shadow: 0 0 10px rgba(233, 30, 99, 0.5);
      }

      /* Enhanced Progress Bar */
      .progress-container {
        width: 200px;
        height: 4px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 2px;
        overflow: hidden;
      }

      .progress-bar {
        height: 100%;
        background: var(--primary-pink);
        width: 0%;
        transition: width 0.1s linear;
      }

      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        background: var(--card-bg);
        padding: 30px;
        border-radius: 16px;
        width: 90%;
        max-width: 600px;
        box-shadow: var(--shadow-elevated);
        border: 1px solid var(--card-border);
        text-align: center;
        position: relative;
        animation: modalAppear 0.3s ease-out;
      }

      @keyframes modalAppear {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .close {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--muted-text);
        transition: var(--transition);
      }

      .close:hover {
        color: var(--primary-pink);
        transform: scale(1.1);
      }

      /* Enhanced Love Notes */
      .notes-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .love-note {
        background: linear-gradient(135deg, #ff9ec6, #c084fc);
        padding: 20px;
        border-radius: 12px;
        min-height: 180px;
        display: flex;
        flex-direction: column;
        box-shadow: var(--shadow-subtle);
        position: relative;
        cursor: pointer;
        transition: var(--transition);
        overflow: hidden;
      }

      .love-note::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: translateX(-100%);
      }

      .love-note:hover::before {
        animation: shimmerNote 1.5s;
      }

      @keyframes shimmerNote {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      .love-note:hover {
        transform: translateY(-5px) rotate(1deg);
        box-shadow: var(--shadow-elevated);
      }

      .note-content {
        flex-grow: 1;
        color: white;
        font-weight: 500;
        line-height: 1.5;
      }

      .note-date {
        font-size: 0.8rem;
        opacity: 0.8;
        margin-top: 10px;
        align-self: flex-end;
      }

      .delete-note {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.3);
        border: none;
        color: white;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        transition: var(--transition);
        opacity: 0;
      }

      .love-note:hover .delete-note {
        opacity: 1;
      }

      .delete-note:hover {
        background: rgba(0, 0, 0, 0.5);
        transform: scale(1.1);
      }

      .add-note {
        background: rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        color: rgba(255, 255, 255, 0.7);
        border: 2px dashed rgba(255, 255, 255, 0.3);
      }

      .add-note:hover {
        background: rgba(255, 255, 255, 0.15);
        color: rgba(255, 255, 255, 0.9);
        border-color: rgba(255, 255, 255, 0.5);
      }

      /* Enhanced Virtual Candle */
      .candle-container .candle {
        width: 80px;
        height: 150px;
        margin: 0 auto 30px;
        position: relative;
      }

      .candle-body {
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, #f0f0f5, #e0e0e5, #f0f0f5);
        border-radius: 8px;
        position: relative;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .candle-wick {
        width: 4px;
        height: 15px;
        background: #333;
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
      }

      .candle-flame {
        width: 25px;
        height: 50px;
        background: linear-gradient(to bottom, #ff9900, #ff5500, #ff0000);
        border-radius: 50% 50% 20% 20%;
        position: absolute;
        top: -65px;
        left: 50%;
        transform: translateX(-50%);
        animation: flicker 2s infinite alternate;
        box-shadow: 0 0 20px #ff5500, 0 0 40px #ff0000;
        display: none;
      }

      @keyframes flicker {
        0%,
        100% {
          transform: translateX(-50%) scale(1);
          opacity: 1;
        }
        25% {
          transform: translateX(-52%) scale(1.05);
          opacity: 0.9;
        }
        50% {
          transform: translateX(-48%) scale(0.95);
          opacity: 0.8;
        }
        75% {
          transform: translateX(-51%) scale(1.02);
          opacity: 0.95;
        }
      }

      .candle-message {
        margin-top: 20px;
        font-style: italic;
        color: var(--muted-text);
        transition: var(--transition);
      }

      /* Enhanced Memory Game */
      .memory-game-container .memory-game-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 10px;
      }

      .memory-stats {
        display: flex;
        gap: 15px;
      }

      .stat {
        background: rgba(30, 30, 45, 0.7);
        padding: 8px 15px;
        border-radius: 8px;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .memory-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin: 20px 0;
      }

      @media (min-width: 768px) {
        .memory-grid {
          grid-template-columns: repeat(6, 1fr);
        }
      }

      .memory-card {
        aspect-ratio: 1;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        transform-style: preserve-3d;
        position: relative;
        transform: rotateY(0deg);
      }

      .memory-card.flipped {
        transform: rotateY(180deg);
      }

      .memory-card.matched {
        cursor: default;
        opacity: 0.7;
        transform: rotateY(180deg) scale(0.95);
      }

      .memory-card .card-front,
      .memory-card .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        backface-visibility: hidden;
      }

      .memory-card .card-front {
        background: var(--gradient-primary);
        transform: rotateY(180deg);
        font-size: 2rem;
      }

      .memory-card .card-back {
        background: rgba(30, 30, 45, 0.9);
        font-size: 1.5rem;
        border: 2px solid rgba(255, 255, 255, 0.1);
      }

      /* Enhanced Trivia Game */
      .trivia-game-container .trivia-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 10px;
      }

      .trivia-stats {
        display: flex;
        gap: 15px;
      }

      .trivia-question {
        font-size: 1.2rem;
        margin-bottom: 20px;
        color: var(--light-text);
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 15px;
        background: rgba(30, 30, 45, 0.5);
        border-radius: 8px;
      }

      .trivia-options {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
        margin-bottom: 20px;
      }

      @media (min-width: 768px) {
        .trivia-options {
          grid-template-columns: 1fr 1fr;
        }
      }

      .trivia-option {
        padding: 15px;
        background: rgba(30, 30, 45, 0.7);
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        border: 1px solid transparent;
        text-align: left;
      }

      .trivia-option:hover {
        background: rgba(40, 40, 60, 0.9);
        border-color: var(--primary-pink);
        transform: translateY(-2px);
      }

      .trivia-option.selected {
        background: rgba(233, 30, 99, 0.2);
        border-color: var(--primary-pink);
      }

      .trivia-option.correct {
        background: rgba(76, 175, 80, 0.3);
        border-color: #4caf50;
      }

      .trivia-option.incorrect {
        background: rgba(244, 67, 54, 0.3);
        border-color: #f44336;
      }

      .trivia-result {
        text-align: center;
        font-size: 1.3rem;
        margin-top: 20px;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }

      /* Enhanced Virtual Rose */
      .rose-modal-content {
        background: var(--card-bg);
        padding: 40px;
        border-radius: 16px;
        width: 90%;
        max-width: 500px;
        box-shadow: var(--shadow-elevated);
        border: 1px solid var(--card-border);
        text-align: center;
        position: relative;
        animation: modalAppear 0.3s ease-out;
      }

      .close-rose {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--muted-text);
        transition: var(--transition);
      }

      .close-rose:hover {
        color: var(--primary-pink);
        transform: scale(1.1);
      }

      #rose-3d {
        font-size: 8rem;
        margin: 20px 0;
        animation: rotateRose 5s infinite linear;
        text-shadow: 0 0 20px rgba(233, 30, 99, 0.7);
        display: inline-block;
      }

      @keyframes rotateRose {
        0% {
          transform: rotateY(0deg);
        }
        100% {
          transform: rotateY(360deg);
        }
      }

      .rose-message {
        font-size: 1.3rem;
        margin: 20px 0;
        color: var(--light-text);
        font-style: italic;
        line-height: 1.5;
      }

      .rose-controls {
        margin-top: 20px;
      }

      /* Enhanced Footer */
      .footer {
        text-align: center;
        padding: 30px 20px;
        margin-top: 40px;
        color: var(--muted-text);
        font-size: 0.9rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .footer p {
        margin: 5px 0;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .header h1 {
          font-size: 2.5rem;
        }

        .intro-text {
          font-size: 1rem;
          padding: 15px;
        }

        .love-inputs {
          flex-direction: column;
          align-items: center;
        }

        .feature-nav {
          gap: 5px;
        }

        .feature-nav-btn {
          padding: 10px 15px;
          font-size: 0.9rem;
        }

        .memory-grid {
          grid-template-columns: repeat(3, 1fr);
        }

        #rose-3d {
          font-size: 5rem;
        }

        .notes-container {
          grid-template-columns: 1fr;
        }

        .feature-buttons {
          flex-direction: column;
          align-items: center;
        }

        .feature-buttons .btn {
          width: 80%;
          max-width: 250px;
        }
      }

      @media (max-width: 480px) {
        .header h1 {
          font-size: 2rem;
        }

        .anniversary-date,
        .days-counter {
          font-size: 1rem;
        }

        .memory-game-header,
        .trivia-header {
          flex-direction: column;
          align-items: center;
        }

        .memory-stats,
        .trivia-stats {
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <!-- Background animations -->
    <div id="hearts-container"></div>
    <div id="petals-container"></div>
    <div id="sparkles-container"></div>

    <!-- Music controls -->
    <div id="music-controls">
      <button id="music-toggle">♪</button>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <audio id="background-music" loop>
        <!-- In a real implementation, you would link to an actual audio file -->
        <!-- <source src="assets/music/romantic.mp3" type="audio/mpeg" /> -->
      </audio>
    </div>

    <!-- Confetti canvas -->
    <canvas id="confetti-canvas"></canvas>

    <!-- Main content -->
    <div class="container">
      <div class="content">
        <div class="header">
          <h1 id="animated-heading">💖 Happy Anniversary My Love 💖</h1>
          <div class="anniversary-date" id="anniversary-date"></div>
          <div class="days-counter" id="days-counter"></div>
        </div>

        <p class="intro-text slide-up">
          Every moment with you feels like a beautiful dream. Today, we
          celebrate another year of our incredible journey together. Through
          laughter, tears, and everything in between, you've been my constant,
          my rock, my everything.
        </p>

        <!-- Feature Navigation -->
        <div class="feature-nav">
          <div class="feature-nav-btn active" data-feature="love-calculator">
            Love Calculator
          </div>
          <div class="feature-nav-btn" data-feature="memory-game">
            Love Memory Match
          </div>
          <div class="feature-nav-btn" data-feature="trivia-game">
            Romantic Trivia
          </div>
          <div class="feature-nav-btn" data-feature="love-notes">
            Love Notes
          </div>
          <div class="feature-nav-btn" data-feature="candle">
            Virtual Candle
          </div>
        </div>

        <!-- Features Sections -->

        <!-- Love Calculator -->
        <div id="love-calculator" class="feature-section active">
          <div class="card love-calculator">
            <h2>Love Compatibility Calculator</h2>
            <p>Enter your names to see your love percentage!</p>

            <div class="love-inputs">
              <input type="text" id="name1" placeholder="Your Name" />
              <input type="text" id="name2" placeholder="Partner's Name" />
            </div>

            <button id="calculate-love" class="btn glow-btn">
              Calculate Love
            </button>

            <div class="love-result">
              <div class="love-meter">
                <div class="love-fill" id="love-fill"></div>
              </div>
              <div id="love-percentage">0%</div>
              <div id="love-message"></div>
            </div>
          </div>
        </div>

        <!-- Love Memory Match Game -->
        <div id="memory-game" class="feature-section">
          <div class="card memory-game-container">
            <div class="memory-game-header">
              <h2>Love Memory Match</h2>
              <div class="memory-stats">
                <div class="stat">Moves: <span id="move-count">0</span></div>
                <div class="stat">
                  Matches: <span id="match-count">0</span>/8
                </div>
                <div class="stat">Time: <span id="time-count">0</span>s</div>
              </div>
            </div>
            <p>Match the romantic symbols to win the game!</p>
            <div class="memory-grid" id="memory-grid">
              <!-- Cards will be populated by JavaScript -->
            </div>
            <button id="reset-memory" class="btn glow-btn">Reset Game</button>
          </div>
        </div>

        <!-- Romantic Trivia Game -->
        <div id="trivia-game" class="feature-section">
          <div class="card trivia-game-container">
            <div class="trivia-header">
              <h2>Romantic Trivia</h2>
              <div class="trivia-stats">
                <div class="stat">Score: <span id="score-count">0</span></div>
                <div class="stat">
                  Question: <span id="question-count">1</span>/5
                </div>
              </div>
            </div>
            <div class="trivia-question" id="trivia-question">
              Question will appear here
            </div>
            <div class="trivia-options" id="trivia-options">
              <!-- Options will be populated by JavaScript -->
            </div>
            <button id="next-trivia" class="btn glow-btn" style="display: none">
              Next Question
            </button>
            <div class="trivia-result" id="trivia-result"></div>
          </div>
        </div>

        <!-- Digital Love Notes -->
        <div id="love-notes" class="feature-section">
          <div class="notes-container" id="notes-container">
            <!-- Notes will be populated by JavaScript -->
            <div class="love-note add-note" id="add-note">+</div>
          </div>

          <!-- Note Modal -->
          <div class="modal" id="note-modal">
            <div class="modal-content">
              <span class="close">&times;</span>
              <h3>Add a Love Note</h3>
              <textarea
                id="note-text"
                placeholder="Write your love note here..."
              ></textarea>
              <div style="display: flex; gap: 10px; justify-content: center">
                <button id="save-note" class="btn glow-btn">Save Note</button>
                <button
                  id="cancel-note"
                  class="btn"
                  style="background: rgba(255, 255, 255, 0.1)"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Virtual Candle -->
        <div id="candle" class="feature-section">
          <div class="card candle-container">
            <h2>Light a Candle of Love</h2>
            <div class="candle">
              <div class="candle-body"></div>
              <div class="candle-wick"></div>
              <div class="candle-flame" id="candle-flame"></div>
            </div>
            <button id="toggle-candle" class="btn glow-btn">
              Light Candle
            </button>
            <p class="candle-message" id="candle-message">
              Click to light our candle of eternal love
            </p>
          </div>
        </div>

        <!-- Heartbeat Visualization -->
        <div id="heartbeat-container">
          <div class="heartbeat-visual">
            <div class="pulse-ring"></div>
            <div class="pulse-ring"></div>
            <div class="pulse-ring"></div>
            <div class="heart-icon">💖</div>
          </div>
          <div id="romantic-quote" class="quote-text">
            "Your love makes my heart beat faster"
          </div>
        </div>

        <div class="feature-buttons">
          <a href="gallery.html" class="btn glow-btn">Start Our Journey 💌</a>
          <button id="ai-letter-btn" class="btn glow-btn">
            AI Love Letter ✨
          </button>
          <button id="virtual-rose-btn" class="btn glow-btn">
            Send Virtual Rose 🌹
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>Made with 💖 for our special day</p>
      <p>© 2023 Our Love Story</p>
    </div>

    <!-- Updated AI Love Letter Modal -->
    <div id="ai-letter-modal" class="modal">
      <div class="modal-content mobile-optimized">
        <span class="close">&times;</span>
        <h2>AI-Generated Love Letter</h2>
        <div id="ai-letter-content" class="letter-content">
          <p>Loading your personalized love letter...</p>
        </div>
        <div class="modal-buttons">
          <button id="regenerate-letter" class="btn glow-btn">
            Generate New Letter
          </button>
          <button id="copy-letter" class="btn">Copy to Clipboard</button>
        </div>
      </div>
    </div>

    <div id="virtual-rose-modal" class="modal">
      <div class="rose-modal-content">
        <span class="close-rose">&times;</span>
        <h2>For My Beloved</h2>
        <div id="rose-3d">🌹</div>
        <div class="rose-message" id="rose-message">
          A virtual rose for the most beautiful person in my life
        </div>
        <div class="rose-controls">
          <button id="change-rose-color" class="btn glow-btn">
            Change Rose Color
          </button>
          <button id="send-rose" class="btn">Send with Message</button>
        </div>
      </div>
    </div>

    <script>
      // DOM Elements
      const featureNavBtns = document.querySelectorAll(".feature-nav-btn");
      const featureSections = document.querySelectorAll(".feature-section");
      const musicToggle = document.getElementById("music-toggle");
      const progressBar = document.getElementById("progress-bar");
      const backgroundMusic = document.getElementById("background-music");
      const loveCalculator = document.getElementById("love-calculator");
      const memoryGame = document.getElementById("memory-game");
      const triviaGame = document.getElementById("trivia-game");
      const loveNotes = document.getElementById("love-notes");
      const candleSection = document.getElementById("candle");
      const daysCounter = document.getElementById("days-counter");
      const anniversaryDate = document.getElementById("anniversary-date");
      const animatedHeading = document.getElementById("animated-heading");
      const heartsContainer = document.getElementById("hearts-container");
      const petalsContainer = document.getElementById("petals-container");
      const sparklesContainer = document.getElementById("sparkles-container");
      const confettiCanvas = document.getElementById("confetti-canvas");
      const loveFill = document.getElementById("love-fill");
      const lovePercentage = document.getElementById("love-percentage");
      const loveMessage = document.getElementById("love-message");
      const calculateLoveBtn = document.getElementById("calculate-love");
      const name1Input = document.getElementById("name1");
      const name2Input = document.getElementById("name2");
      const memoryGrid = document.getElementById("memory-grid");
      const resetMemoryBtn = document.getElementById("reset-memory");
      const moveCount = document.getElementById("move-count");
      const matchCount = document.getElementById("match-count");
      const timeCount = document.getElementById("time-count");
      const triviaQuestion = document.getElementById("trivia-question");
      const triviaOptions = document.getElementById("trivia-options");
      const nextTriviaBtn = document.getElementById("next-trivia");
      const triviaResult = document.getElementById("trivia-result");
      const scoreCount = document.getElementById("score-count");
      const questionCount = document.getElementById("question-count");
      const notesContainer = document.getElementById("notes-container");
      const addNoteBtn = document.getElementById("add-note");
      const noteModal = document.getElementById("note-modal");
      const closeModal = document.querySelector(".close");
      const saveNoteBtn = document.getElementById("save-note");
      const cancelNoteBtn = document.getElementById("cancel-note");
      const noteText = document.getElementById("note-text");
      const toggleCandleBtn = document.getElementById("toggle-candle");
      const candleFlame = document.getElementById("candle-flame");
      const candleMessage = document.getElementById("candle-message");
      const aiLetterBtn = document.getElementById("ai-letter-btn");
      const aiLetterModal = document.getElementById("ai-letter-modal");
      const aiLetterContent = document.getElementById("ai-letter-content");
      const regenerateLetterBtn = document.getElementById("regenerate-letter");
      const copyLetterBtn = document.getElementById("copy-letter");
      const virtualRoseBtn = document.getElementById("virtual-rose-btn");
      const virtualRoseModal = document.getElementById("virtual-rose-modal");
      const closeRoseModal = document.querySelector(".close-rose");
      const changeRoseColorBtn = document.getElementById("change-rose-color");
      const sendRoseBtn = document.getElementById("send-rose");
      const roseMessage = document.getElementById("rose-message");

      // Anniversary date (set your anniversary date here)
      const anniversary = new Date("2020-05-20");
      const today = new Date();
      const timeDiff = today.getTime() - anniversary.getTime();
      const daysTogether = Math.floor(timeDiff / (1000 * 3600 * 24));

      // Set anniversary information
      anniversaryDate.textContent = `Since ${anniversary.toLocaleDateString(
        "en-US",
        { month: "long", day: "numeric", year: "numeric" }
      )}`;
      daysCounter.textContent = `${daysTogether} days together!`;

      // Feature Navigation
      featureNavBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          const feature = btn.getAttribute("data-feature");

          // Update active button
          featureNavBtns.forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");

          // Show corresponding section
          featureSections.forEach((section) => {
            section.classList.remove("active");
            if (section.id === feature) {
              section.classList.add("active");
            }
          });
        });
      });

      // Background Music
      let isPlaying = false;
      musicToggle.addEventListener("click", () => {
        if (isPlaying) {
          backgroundMusic.pause();
          musicToggle.classList.remove("playing");
          musicToggle.textContent = "♪";
        } else {
          backgroundMusic.play().catch((e) => {
            console.log("Audio play failed:", e);
            // Show a message to the user
            alert(
              "Please interact with the page first to enable audio, or check if your browser allows autoplay."
            );
          });
          musicToggle.classList.add("playing");
          musicToggle.textContent = "♫";
        }
        isPlaying = !isPlaying;
      });

      // Update progress bar (simulated for demo)
      setInterval(() => {
        if (isPlaying) {
          const progress =
            (backgroundMusic.currentTime / backgroundMusic.duration) * 100 || 0;
          progressBar.style.width = `${progress}%`;
        }
      }, 100);

      // Background Animations
      function createHearts() {
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            const heart = document.createElement("div");
            heart.classList.add("heart");
            heart.innerHTML = "💖";
            heart.style.left = `${Math.random() * 100}%`;
            heart.style.top = `${Math.random() * 100}%`;
            heart.style.fontSize = `${Math.random() * 20 + 10}px`;
            heart.style.animation = `float ${
              Math.random() * 10 + 10
            }s linear infinite`;
            heartsContainer.appendChild(heart);

            // Remove heart after animation
            setTimeout(() => {
              heart.remove();
            }, 15000);
          }, i * 1000);
        }
      }

      function createPetals() {
        for (let i = 0; i < 20; i++) {
          setTimeout(() => {
            const petal = document.createElement("div");
            petal.classList.add("petal");
            petal.innerHTML = "🌸";
            petal.style.left = `${Math.random() * 100}%`;
            petal.style.top = `${Math.random() * 100}%`;
            petal.style.fontSize = `${Math.random() * 15 + 10}px`;
            petal.style.animation = `fall ${
              Math.random() * 10 + 10
            }s linear infinite`;
            petalsContainer.appendChild(petal);

            // Remove petal after animation
            setTimeout(() => {
              petal.remove();
            }, 20000);
          }, i * 500);
        }
      }

      function createSparkles() {
        for (let i = 0; i < 50; i++) {
          setTimeout(() => {
            const sparkle = document.createElement("div");
            sparkle.classList.add("sparkle");
            sparkle.style.left = `${Math.random() * 100}%`;
            sparkle.style.top = `${Math.random() * 100}%`;
            sparkle.style.animationDelay = `${Math.random() * 3}s`;
            sparklesContainer.appendChild(sparkle);

            // Remove sparkle after animation
            setTimeout(() => {
              sparkle.remove();
            }, 4000);
          }, i * 200);
        }
      }

      // Initialize animations
      createHearts();
      createPetals();
      createSparkles();
      setInterval(createHearts, 15000);
      setInterval(createPetals, 20000);
      setInterval(createSparkles, 4000);

      // Love Calculator
      calculateLoveBtn.addEventListener("click", () => {
        const name1 = name1Input.value.trim() || "You";
        const name2 = name2Input.value.trim() || "Your Partner";

        // Calculate "love percentage" (pseudo-random but based on names)
        let seed = 0;
        for (let i = 0; i < name1.length; i++) {
          seed += name1.charCodeAt(i);
        }
        for (let i = 0; i < name2.length; i++) {
          seed += name2.charCodeAt(i);
        }

        // Use seed to generate consistent but "random" percentage
        const lovePercent = (seed % 40) + 60; // Between 60% and 99%

        // Animate the love meter
        loveFill.style.width = "0%";
        setTimeout(() => {
          loveFill.style.width = `${lovePercent}%`;
        }, 100);

        // Update percentage text
        let currentPercent = 0;
        const interval = setInterval(() => {
          if (currentPercent >= lovePercent) {
            clearInterval(interval);
          } else {
            currentPercent++;
            lovePercentage.textContent = `${currentPercent}%`;
          }
        }, 20);

        // Set love message based on percentage
        let message = "";
        if (lovePercent >= 90) {
          message = "Perfect match! You two are meant to be! 💖";
        } else if (lovePercent >= 80) {
          message = "Amazing connection! Your love is strong! 💕";
        } else if (lovePercent >= 70) {
          message = "Great compatibility! Your bond is special! 💘";
        } else {
          message = "Good match! Your love can grow stronger! 💝";
        }

        loveMessage.textContent = message;

        // Trigger confetti for high percentages
        if (lovePercent > 85) {
          triggerConfetti();
        }
      });

      // Memory Game
      const memoryCards = ["💖", "💕", "💘", "💝", "💓", "💗", "💞", "💟"];
      let memoryGameState = {
        cards: [],
        flippedCards: [],
        matchedPairs: 0,
        moves: 0,
        gameStarted: false,
        timer: 0,
        timerInterval: null,
      };

      function initializeMemoryGame() {
        // Reset state
        memoryGameState = {
          cards: [...memoryCards, ...memoryCards].sort(
            () => Math.random() - 0.5
          ),
          flippedCards: [],
          matchedPairs: 0,
          moves: 0,
          gameStarted: false,
          timer: 0,
          timerInterval: null,
        };

        // Update UI
        moveCount.textContent = "0";
        matchCount.textContent = "0";
        timeCount.textContent = "0";

        // Clear grid
        memoryGrid.innerHTML = "";

        // Create cards
        memoryGameState.cards.forEach((symbol, index) => {
          const card = document.createElement("div");
          card.classList.add("memory-card");
          card.dataset.index = index;
          card.dataset.symbol = symbol;

          const cardFront = document.createElement("div");
          cardFront.classList.add("card-front");
          cardFront.textContent = symbol;

          const cardBack = document.createElement("div");
          cardBack.classList.add("card-back");
          cardBack.textContent = "?";

          card.appendChild(cardFront);
          card.appendChild(cardBack);

          card.addEventListener("click", () => flipCard(card));
          memoryGrid.appendChild(card);
        });
      }

      function flipCard(card) {
        // Don't allow flipping if already flipped or matched
        if (
          card.classList.contains("flipped") ||
          card.classList.contains("matched") ||
          memoryGameState.flippedCards.length >= 2
        ) {
          return;
        }

        // Start timer on first move
        if (!memoryGameState.gameStarted) {
          memoryGameState.gameStarted = true;
          memoryGameState.timerInterval = setInterval(() => {
            memoryGameState.timer++;
            timeCount.textContent = memoryGameState.timer;
          }, 1000);
        }

        // Flip the card
        card.classList.add("flipped");
        memoryGameState.flippedCards.push(card);

        // Check for match if two cards are flipped
        if (memoryGameState.flippedCards.length === 2) {
          memoryGameState.moves++;
          moveCount.textContent = memoryGameState.moves;

          const card1 = memoryGameState.flippedCards[0];
          const card2 = memoryGameState.flippedCards[1];

          if (card1.dataset.symbol === card2.dataset.symbol) {
            // Match found
            card1.classList.add("matched");
            card2.classList.add("matched");
            memoryGameState.matchedPairs++;
            matchCount.textContent = memoryGameState.matchedPairs;

            memoryGameState.flippedCards = [];

            // Check for game completion
            if (memoryGameState.matchedPairs === memoryCards.length) {
              clearInterval(memoryGameState.timerInterval);
              setTimeout(() => {
                alert(
                  `Congratulations! You completed the game in ${memoryGameState.moves} moves and ${memoryGameState.timer} seconds!`
                );
              }, 500);
            }
          } else {
            // No match, flip cards back after a delay
            setTimeout(() => {
              card1.classList.remove("flipped");
              card2.classList.remove("flipped");
              memoryGameState.flippedCards = [];
            }, 1000);
          }
        }
      }

      resetMemoryBtn.addEventListener("click", initializeMemoryGame);

      // Trivia Game
      const triviaQuestions = [
        {
          question: "What is the most popular month for weddings?",
          options: ["June", "August", "May", "September"],
          correct: 0,
        },
        {
          question: "What is the traditional gift for a 1st anniversary?",
          options: ["Paper", "Gold", "Cotton", "Wood"],
          correct: 0,
        },
        {
          question: "Which flower is most commonly associated with love?",
          options: ["Tulip", "Rose", "Lily", "Orchid"],
          correct: 1,
        },
        {
          question:
            "What percentage of people marry their childhood sweetheart?",
          options: ["2%", "10%", "25%", "50%"],
          correct: 0,
        },
        {
          question: "Which country has the highest marriage rate?",
          options: ["USA", "China", "India", "Qatar"],
          correct: 3,
        },
      ];

      let triviaState = {
        currentQuestion: 0,
        score: 0,
        selectedOption: null,
      };

      function loadTriviaQuestion() {
        const question = triviaQuestions[triviaState.currentQuestion];
        triviaQuestion.textContent = question.question;

        triviaOptions.innerHTML = "";
        question.options.forEach((option, index) => {
          const optionElement = document.createElement("div");
          optionElement.classList.add("trivia-option");
          optionElement.textContent = option;
          optionElement.dataset.index = index;

          optionElement.addEventListener("click", () =>
            selectTriviaOption(optionElement)
          );
          triviaOptions.appendChild(optionElement);
        });

        questionCount.textContent = triviaState.currentQuestion + 1;
        scoreCount.textContent = triviaState.score;
        nextTriviaBtn.style.display = "none";
        triviaResult.textContent = "";
        triviaState.selectedOption = null;
      }

      function selectTriviaOption(optionElement) {
        if (triviaState.selectedOption !== null) return;

        const selectedIndex = parseInt(optionElement.dataset.index);
        triviaState.selectedOption = selectedIndex;

        // Highlight selected option
        document.querySelectorAll(".trivia-option").forEach((opt) => {
          opt.classList.remove("selected");
        });
        optionElement.classList.add("selected");

        // Check if correct
        const correctIndex =
          triviaQuestions[triviaState.currentQuestion].correct;
        const isCorrect = selectedIndex === correctIndex;

        if (isCorrect) {
          triviaState.score++;
          scoreCount.textContent = triviaState.score;
          optionElement.classList.add("correct");
          triviaResult.textContent = "Correct! 🎉";
        } else {
          optionElement.classList.add("incorrect");
          // Highlight correct answer
          document
            .querySelector(`.trivia-option[data-index="${correctIndex}"]`)
            .classList.add("correct");
          triviaResult.textContent = "Incorrect! 😔";
        }

        nextTriviaBtn.style.display = "block";
      }

      nextTriviaBtn.addEventListener("click", () => {
        triviaState.currentQuestion++;

        if (triviaState.currentQuestion < triviaQuestions.length) {
          loadTriviaQuestion();
        } else {
          // Game over
          triviaQuestion.textContent = "Trivia Complete!";
          triviaOptions.innerHTML = "";
          nextTriviaBtn.style.display = "none";

          let message = "";
          if (triviaState.score === triviaQuestions.length) {
            message = "Perfect! You're a romance expert! 💖";
          } else if (triviaState.score >= triviaQuestions.length * 0.7) {
            message = "Great job! You know your romance! 💕";
          } else {
            message = "Nice try! Love is a learning journey! 💘";
          }

          triviaResult.textContent = `Final Score: ${triviaState.score}/${triviaQuestions.length}. ${message}`;

          // Reset for next game
          setTimeout(() => {
            triviaState.currentQuestion = 0;
            triviaState.score = 0;
            loadTriviaQuestion();
          }, 5000);
        }
      });

      // Love Notes
      let loveNotesData = JSON.parse(localStorage.getItem("loveNotes")) || [
        {
          id: 1,
          content:
            "Every moment with you is a blessing I cherish. I love you more each day.",
          date: "2023-10-15",
        },
        {
          id: 2,
          content:
            "Your smile lights up my world like nothing else. I'm so grateful for you.",
          date: "2023-11-20",
        },
      ];

      function renderLoveNotes() {
        notesContainer.innerHTML = "";

        loveNotesData.forEach((note) => {
          const noteElement = document.createElement("div");
          noteElement.classList.add("love-note");

          const noteContent = document.createElement("div");
          noteContent.classList.add("note-content");
          noteContent.textContent = note.content;

          const noteDate = document.createElement("div");
          noteDate.classList.add("note-date");
          noteDate.textContent = new Date(note.date).toLocaleDateString();

          const deleteBtn = document.createElement("button");
          deleteBtn.classList.add("delete-note");
          deleteBtn.innerHTML = "×";
          deleteBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            deleteLoveNote(note.id);
          });

          noteElement.appendChild(deleteBtn);
          noteElement.appendChild(noteContent);
          noteElement.appendChild(noteDate);

          noteElement.addEventListener("click", () => {
            noteText.value = note.content;
            currentNoteId = note.id;
            noteModal.style.display = "flex";
          });

          notesContainer.appendChild(noteElement);
        });

        // Add the "+" button at the end
        const addButton = document.createElement("div");
        addButton.classList.add("love-note", "add-note");
        addButton.id = "add-note";
        addButton.innerHTML = "+";
        addButton.addEventListener("click", () => {
          noteText.value = "";
          currentNoteId = null;
          noteModal.style.display = "flex";
        });

        notesContainer.appendChild(addButton);

        // Save to localStorage
        localStorage.setItem("loveNotes", JSON.stringify(loveNotesData));
      }

      let currentNoteId = null;

      function saveLoveNote() {
        const content = noteText.value.trim();
        if (!content) return;

        if (currentNoteId) {
          // Update existing note
          const noteIndex = loveNotesData.findIndex(
            (note) => note.id === currentNoteId
          );
          if (noteIndex !== -1) {
            loveNotesData[noteIndex].content = content;
            loveNotesData[noteIndex].date = new Date()
              .toISOString()
              .split("T")[0];
          }
        } else {
          // Add new note
          const newId =
            loveNotesData.length > 0
              ? Math.max(...loveNotesData.map((n) => n.id)) + 1
              : 1;
          loveNotesData.push({
            id: newId,
            content: content,
            date: new Date().toISOString().split("T")[0],
          });
        }

        renderLoveNotes();
        noteModal.style.display = "none";
      }

      function deleteLoveNote(id) {
        if (confirm("Are you sure you want to delete this love note?")) {
          loveNotesData = loveNotesData.filter((note) => note.id !== id);
          renderLoveNotes();
        }
      }

      addNoteBtn.addEventListener("click", () => {
        noteText.value = "";
        currentNoteId = null;
        noteModal.style.display = "flex";
      });

      closeModal.addEventListener("click", () => {
        noteModal.style.display = "none";
      });

      cancelNoteBtn.addEventListener("click", () => {
        noteModal.style.display = "none";
      });

      saveNoteBtn.addEventListener("click", saveLoveNote);

      // Close modal when clicking outside
      window.addEventListener("click", (e) => {
        if (e.target === noteModal) {
          noteModal.style.display = "none";
        }
        if (e.target === aiLetterModal) {
          aiLetterModal.style.display = "none";
        }
        if (e.target === virtualRoseModal) {
          virtualRoseModal.style.display = "none";
        }
      });

      // Virtual Candle
      let isCandleLit = false;
      toggleCandleBtn.addEventListener("click", () => {
        isCandleLit = !isCandleLit;

        if (isCandleLit) {
          candleFlame.style.display = "block";
          toggleCandleBtn.textContent = "Blow Out Candle";
          candleMessage.textContent = "Our love burns bright and eternal 💖";

          // Add flickering effect to the message
          candleMessage.style.animation = "pulse 2s infinite";
        } else {
          candleFlame.style.display = "none";
          toggleCandleBtn.textContent = "Light Candle";
          candleMessage.textContent =
            "Click to light our candle of eternal love";
          candleMessage.style.animation = "";
        }
      });

      // AI Love Letter
      const loveLetterTemplates = [
        `My Dearest Love,

Every day with you feels like a beautiful dream I never want to wake up from. From the moment we met, you've brought so much joy, laughter, and meaning into my life.

I cherish the little moments we share - your smile in the morning, your hand in mine, the way you laugh at my silly jokes. These are the treasures that fill my heart with happiness.

You are my rock, my confidant, my best friend, and the love of my life. Through challenges and celebrations, you've stood by me, and I promise to always stand by you.

On this special day, I want to reaffirm my love for you. You are, and always will be, the most important person in my life.

Forever yours,
Your loving partner`,

        `To My Beloved,

As we celebrate another year together, I find myself reflecting on all the beautiful memories we've created. Each one is a precious gem in the treasure chest of our relationship.

Your love has transformed my world in ways I never thought possible. You've shown me what true happiness means, and with you, I've discovered parts of myself I never knew existed.

I admire your strength, your kindness, your intelligence, and the beautiful person you are inside and out. You inspire me to be better every single day.

No matter what life brings our way, I know we can face it together. Our love is the anchor that keeps me steady through any storm.

Happy anniversary, my love. Here's to many more years of laughter, adventure, and growing old together.

With all my love,
Your devoted partner`,

        `My Sweetheart,

On this anniversary, I want to put into words what my heart feels every day - an overwhelming love and gratitude for having you in my life.

You are the missing piece I never knew I was searching for. With you, everything makes sense. With you, I am home.

I love the way your eyes light up when you talk about your passions. I love the sound of your laughter, which is my favorite melody. I love how you know exactly what to say to make me feel better on a difficult day.

Our journey together has been the most beautiful adventure, and I look forward to all the chapters we have yet to write.

Thank you for being you, and for choosing to share your life with me. You are my greatest blessing.

All my love,
Your forever partner`,
      ];

      function generateLoveLetter() {
        const randomTemplate =
          loveLetterTemplates[
            Math.floor(Math.random() * loveLetterTemplates.length)
          ];
        aiLetterContent.innerHTML = `<p style="white-space: pre-line; text-align: left; line-height: 1.6;">${randomTemplate}</p>`;
      }

      aiLetterBtn.addEventListener("click", () => {
        aiLetterModal.style.display = "flex";
        generateLoveLetter();
      });

      regenerateLetterBtn.addEventListener("click", generateLoveLetter);

      copyLetterBtn.addEventListener("click", () => {
        const text = aiLetterContent.textContent;
        navigator.clipboard.writeText(text).then(() => {
          copyLetterBtn.textContent = "Copied!";
          setTimeout(() => {
            copyLetterBtn.textContent = "Copy to Clipboard";
          }, 2000);
        });
      });

      // Virtual Rose
      const roseColors = ["🌹", "🌺", "🌸", "💐", "🥀"];
      const roseMessages = [
        "A virtual rose for the most beautiful person in my life",
        "Just like this rose, my love for you grows more beautiful each day",
        "Sending you a rose to brighten your day, just as you brighten mine",
        "This rose symbolizes my eternal love for you",
        "Even a thousand roses couldn't express how much I love you",
      ];

      let currentRoseIndex = 0;
      let currentMessageIndex = 0;

      virtualRoseBtn.addEventListener("click", () => {
        virtualRoseModal.style.display = "flex";
      });

      closeRoseModal.addEventListener("click", () => {
        virtualRoseModal.style.display = "none";
      });

      changeRoseColorBtn.addEventListener("click", () => {
        currentRoseIndex = (currentRoseIndex + 1) % roseColors.length;
        document.getElementById("rose-3d").textContent =
          roseColors[currentRoseIndex];
      });

      sendRoseBtn.addEventListener("click", () => {
        currentMessageIndex = (currentMessageIndex + 1) % roseMessages.length;
        roseMessage.textContent = roseMessages[currentMessageIndex];

        // Add a nice effect
        roseMessage.style.transform = "scale(1.1)";
        setTimeout(() => {
          roseMessage.style.transform = "scale(1)";
        }, 300);
      });

      // Confetti Effect
      function triggerConfetti() {
        const canvas = confettiCanvas;
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const confettiPieces = [];
        const confettiColors = [
          "#e91e63",
          "#9c27b0",
          "#2196f3",
          "#4caf50",
          "#ffeb3b",
        ];

        // Create confetti pieces
        for (let i = 0; i < 150; i++) {
          confettiPieces.push({
            x: Math.random() * canvas.width,
            y: -20,
            size: Math.random() * 10 + 5,
            color:
              confettiColors[Math.floor(Math.random() * confettiColors.length)],
            speed: Math.random() * 3 + 2,
            rotation: Math.random() * 360,
            rotationSpeed: Math.random() * 10 - 5,
          });
        }

        function drawConfetti() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          let activePieces = 0;

          confettiPieces.forEach((piece) => {
            piece.y += piece.speed;
            piece.rotation += piece.rotationSpeed;

            if (piece.y < canvas.height) {
              activePieces++;

              ctx.save();
              ctx.translate(piece.x, piece.y);
              ctx.rotate((piece.rotation * Math.PI) / 180);

              ctx.fillStyle = piece.color;
              ctx.fillRect(
                -piece.size / 2,
                -piece.size / 2,
                piece.size,
                piece.size
              );

              ctx.restore();
            }
          });

          if (activePieces > 0) {
            requestAnimationFrame(drawConfetti);
          } else {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
          }
        }

        drawConfetti();
      }

      // Initialize components
      initializeMemoryGame();
      loadTriviaQuestion();
      renderLoveNotes();

      // Add CSS for animations
      const style = document.createElement("style");
      style.textContent = `
            @keyframes float {
                0% {
                    transform: translateY(100vh) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(-100px) rotate(360deg);
                    opacity: 0;
                }
            }
            
            @keyframes fall {
                0% {
                    transform: translateY(-100px) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(100vh) rotate(360deg);
                    opacity: 0;
                }
            }
            
            @keyframes pulse {
                0% {
                    opacity: 1;
                }
                50% {
                    opacity: 0.7;
                }
                100% {
                    opacity: 1;
                }
            }
            
            .slide-up {
                animation: slideUp 1s ease-out;
            }
            
            @keyframes slideUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            
            textarea {
                width: 100%;
                height: 150px;
                padding: 12px;
                border-radius: 8px;
                border: 1px solid var(--card-border);
                background: rgba(30, 30, 45, 0.7);
                color: white;
                font-size: 1rem;
                resize: vertical;
                margin: 15px 0;
                transition: var(--transition);
            }
            
            textarea:focus {
                outline: none;
                border-color: var(--primary-pink);
                box-shadow: 0 0 0 2px rgba(233, 30, 99, 0.2);
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
