<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Anniversary - Enhanced</title>
    <style>
      :root {
        --primary-pink: #e91e63;
        --primary-purple: #9c27b0;
        --primary-blue: #2196f3;
        --card-bg: rgba(255, 255, 255, 0.1);
        --card-border: rgba(255, 255, 255, 0.2);
        --light-text: #ffffff;
        --muted-text: rgba(255, 255, 255, 0.7);
        --shadow-subtle: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-elevated: 0 10px 20px rgba(0, 0, 0, 0.2);
        --transition: all 0.3s ease;
        --gradient-bg: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
        --gradient-primary: linear-gradient(
          45deg,
          var(--primary-pink),
          var(--primary-purple)
        );
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", "Arial", sans-serif;
      }

      body {
        background: var(--gradient-bg);
        color: white;
        min-height: 100vh;
        overflow-x: hidden;
        position: relative;
      }

      /* Enhanced Background Animations */
      #hearts-container,
      #petals-container,
      #sparkles-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .heart,
      .petal,
      .sparkle {
        position: absolute;
        opacity: 0.7;
      }

      .sparkle {
        width: 4px;
        height: 4px;
        background: white;
        border-radius: 50%;
        animation: sparkle 3s infinite;
      }

      @keyframes sparkle {
        0%,
        100% {
          opacity: 0;
          transform: scale(0);
        }
        50% {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* Enhanced Header */
      .header {
        text-align: center;
        padding: 40px 20px 20px;
        position: relative;
      }

      .header h1 {
        font-size: 3.5rem;
        margin-bottom: 15px;
        text-shadow: 0 0 15px rgba(233, 30, 99, 0.7);
        animation: pulse 2s infinite, glow 3s infinite alternate;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        display: inline-block;
      }

      @keyframes glow {
        0% {
          text-shadow: 0 0 10px rgba(233, 30, 99, 0.5);
        }
        100% {
          text-shadow: 0 0 20px rgba(233, 30, 99, 0.8),
            0 0 30px rgba(156, 39, 176, 0.6);
        }
      }

      .anniversary-date {
        font-size: 1.2rem;
        margin-bottom: 10px;
        color: var(--muted-text);
        font-weight: 300;
      }

      .days-counter {
        font-size: 1.5rem;
        margin-bottom: 20px;
        color: var(--primary-pink);
        font-weight: bold;
      }

      /* Enhanced Intro Text */
      .intro-text {
        font-size: 1.2rem;
        max-width: 800px;
        margin: 0 auto 40px;
        line-height: 1.6;
        opacity: 0.9;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        box-shadow: var(--shadow-subtle);
        border-left: 4px solid var(--primary-pink);
      }

      /* Enhanced Buttons */
      .btn {
        padding: 12px 25px;
        background: var(--gradient-primary);
        border: none;
        border-radius: 50px;
        color: white;
        font-size: 1rem;
        cursor: pointer;
        transition: var(--transition);
        margin: 10px;
        text-decoration: none;
        display: inline-block;
        font-weight: 500;
        box-shadow: 0 4px 10px rgba(233, 30, 99, 0.3);
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 7px 15px rgba(233, 30, 99, 0.4);
      }

      .btn:active {
        transform: translateY(-1px);
      }

      .glow-btn {
        box-shadow: 0 0 15px rgba(233, 30, 99, 0.5);
      }

      .feature-buttons {
        margin-top: 40px;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
      }

      /* Enhanced Feature Navigation */
      .feature-nav {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 30px 0;
        flex-wrap: wrap;
        background: rgba(255, 255, 255, 0.05);
        padding: 15px;
        border-radius: 12px;
        box-shadow: var(--shadow-subtle);
      }

      .feature-nav-btn {
        padding: 12px 20px;
        background: rgba(30, 30, 45, 0.7);
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        border: 1px solid transparent;
        font-weight: 500;
      }

      .feature-nav-btn:hover {
        background: rgba(40, 40, 60, 0.9);
        transform: translateY(-2px);
      }

      .feature-nav-btn.active {
        background: var(--primary-pink);
        box-shadow: 0 4px 10px rgba(233, 30, 99, 0.3);
      }

      /* Enhanced Feature Sections */
      .feature-section {
        display: none;
        animation: fadeInElegant 0.5s;
      }

      .feature-section.active {
        display: block;
      }

      @keyframes fadeInElegant {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Enhanced Cards */
      .card {
        background: var(--card-bg);
        padding: 25px;
        border-radius: 12px;
        margin: 20px 0;
        box-shadow: var(--shadow-subtle);
        border: 1px solid var(--card-border);
        transition: var(--transition);
      }

      .card:hover {
        box-shadow: var(--shadow-elevated);
        transform: translateY(-5px);
      }

      .card h2 {
        margin-bottom: 15px;
        color: var(--light-text);
        font-size: 1.8rem;
        text-align: center;
      }

      /* Enhanced Love Calculator */
      .love-calculator .love-inputs {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .love-calculator input {
        padding: 12px 15px;
        border-radius: 8px;
        border: 1px solid var(--card-border);
        background: rgba(30, 30, 45, 0.7);
        color: var(--light-text);
        font-size: 1rem;
        width: 180px;
        text-align: center;
        transition: var(--transition);
      }

      .love-calculator input:focus {
        outline: none;
        border-color: var(--primary-pink);
        box-shadow: 0 0 0 2px rgba(233, 30, 99, 0.2);
      }

      .love-result {
        font-size: 1.5rem;
        margin: 20px 0;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }

      .love-meter {
        width: 100%;
        height: 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        margin: 15px 0;
        overflow: hidden;
      }

      .love-fill {
        height: 100%;
        background: var(--gradient-primary);
        border-radius: 10px;
        transition: width 1s ease;
        width: 0%;
        position: relative;
        overflow: hidden;
      }

      .love-fill::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        animation: shimmer 2s infinite;
      }

      @keyframes shimmer {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      /* Enhanced Heartbeat Visualization */
      #heartbeat-container {
        margin: 40px auto;
        text-align: center;
      }

      .heartbeat-visual {
        position: relative;
        width: 120px;
        height: 120px;
        margin: 0 auto 20px;
      }

      .pulse-ring {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 2px solid var(--primary-pink);
        border-radius: 50%;
        animation: pulse-ring 2s infinite;
        opacity: 0;
      }

      .pulse-ring:nth-child(2) {
        animation-delay: 0.5s;
      }

      .pulse-ring:nth-child(3) {
        animation-delay: 1s;
      }

      @keyframes pulse-ring {
        0% {
          transform: scale(0.8);
          opacity: 1;
        }
        100% {
          transform: scale(1.5);
          opacity: 0;
        }
      }

      .heart-icon {
        font-size: 3.5rem;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: heartbeat 1.5s infinite;
        text-shadow: 0 0 15px rgba(233, 30, 99, 0.7);
      }

      @keyframes heartbeat {
        0% {
          transform: translate(-50%, -50%) scale(1);
        }
        50% {
          transform: translate(-50%, -50%) scale(1.1);
        }
        100% {
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .quote-text {
        font-style: italic;
        font-size: 1.2rem;
        margin-top: 10px;
        opacity: 0.9;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      /* Enhanced Music Controls */
      #music-controls {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 100;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      #music-toggle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #music-toggle:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.1);
      }

      #music-toggle.playing {
        background: var(--primary-pink);
        box-shadow: 0 0 10px rgba(233, 30, 99, 0.5);
      }

      /* Enhanced Progress Bar */
      .progress-container {
        width: 200px;
        height: 4px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 2px;
        overflow: hidden;
      }

      .progress-bar {
        height: 100%;
        background: var(--primary-pink);
        width: 0%;
        transition: width 0.1s linear;
      }

      /* Modal Styles - FIXED FOR MOBILE */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        align-items: center;
        justify-content: center;
        padding: 10px;
        overflow-y: auto;
      }

      .modal-content {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 16px;
        width: 100%;
        max-width: 600px;
        max-height: 90vh;
        box-shadow: var(--shadow-elevated);
        border: 1px solid var(--card-border);
        text-align: center;
        position: relative;
        animation: modalAppear 0.3s ease-out;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
      }

      @keyframes modalAppear {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .close {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--muted-text);
        transition: var(--transition);
        z-index: 10;
      }

      .close:hover {
        color: var(--primary-pink);
        transform: scale(1.1);
      }

      /* Enhanced Love Notes */
      .notes-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .love-note {
        background: linear-gradient(135deg, #ff9ec6, #c084fc);
        padding: 20px;
        border-radius: 12px;
        min-height: 180px;
        display: flex;
        flex-direction: column;
        box-shadow: var(--shadow-subtle);
        position: relative;
        cursor: pointer;
        transition: var(--transition);
        overflow: hidden;
      }

      .love-note::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: translateX(-100%);
      }

      .love-note:hover::before {
        animation: shimmerNote 1.5s;
      }

      @keyframes shimmerNote {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      .love-note:hover {
        transform: translateY(-5px) rotate(1deg);
        box-shadow: var(--shadow-elevated);
      }

      .note-content {
        flex-grow: 1;
        color: white;
        font-weight: 500;
        line-height: 1.5;
      }

      .note-date {
        font-size: 0.8rem;
        opacity: 0.8;
        margin-top: 10px;
        align-self: flex-end;
      }

      .delete-note {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.3);
        border: none;
        color: white;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        transition: var(--transition);
        opacity: 0;
      }

      .love-note:hover .delete-note {
        opacity: 1;
      }

      .delete-note:hover {
        background: rgba(0, 0, 0, 0.5);
        transform: scale(1.1);
      }

      .add-note {
        background: rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        color: rgba(255, 255, 255, 0.7);
        border: 2px dashed rgba(255, 255, 255, 0.3);
      }

      .add-note:hover {
        background: rgba(255, 255, 255, 0.15);
        color: rgba(255, 255, 255, 0.9);
        border-color: rgba(255, 255, 255, 0.5);
      }

      /* Enhanced Virtual Candle */
      .candle-container .candle {
        width: 80px;
        height: 150px;
        margin: 0 auto 30px;
        position: relative;
      }

      .candle-body {
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, #f0f0f5, #e0e0e5, #f0f0f5);
        border-radius: 8px;
        position: relative;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .candle-wick {
        width: 4px;
        height: 15px;
        background: #333;
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
      }

      .candle-flame {
        width: 25px;
        height: 50px;
        background: linear-gradient(to bottom, #ff9900, #ff5500, #ff0000);
        border-radius: 50% 50% 20% 20%;
        position: absolute;
        top: -65px;
        left: 50%;
        transform: translateX(-50%);
        animation: flicker 2s infinite alternate;
        box-shadow: 0 0 20px #ff5500, 0 0 40px #ff0000;
        display: none;
      }

      @keyframes flicker {
        0%,
        100% {
          transform: translateX(-50%) scale(1);
          opacity: 1;
        }
        25% {
          transform: translateX(-52%) scale(1.05);
          opacity: 0.9;
        }
        50% {
          transform: translateX(-48%) scale(0.95);
          opacity: 0.8;
        }
        75% {
          transform: translateX(-51%) scale(1.02);
          opacity: 0.95;
        }
      }

      .candle-message {
        margin-top: 20px;
        font-style: italic;
        color: var(--muted-text);
        transition: var(--transition);
      }

      /* Enhanced Memory Game */
      .memory-game-container .memory-game-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 10px;
      }

      .memory-stats {
        display: flex;
        gap: 15px;
      }

      .stat {
        background: rgba(30, 30, 45, 0.7);
        padding: 8px 15px;
        border-radius: 8px;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .memory-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin: 20px 0;
      }

      @media (min-width: 768px) {
        .memory-grid {
          grid-template-columns: repeat(6, 1fr);
        }
      }

      .memory-card {
        aspect-ratio: 1;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        transform-style: preserve-3d;
        position: relative;
        transform: rotateY(0deg);
      }

      .memory-card.flipped {
        transform: rotateY(180deg);
      }

      .memory-card.matched {
        cursor: default;
        opacity: 0.7;
        transform: rotateY(180deg) scale(0.95);
      }

      .memory-card .card-front,
      .memory-card .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        backface-visibility: hidden;
      }

      .memory-card .card-front {
        background: var(--gradient-primary);
        transform: rotateY(180deg);
        font-size: 2rem;
      }

      .memory-card .card-back {
        background: rgba(30, 30, 45, 0.9);
        font-size: 1.5rem;
        border: 2px solid rgba(255, 255, 255, 0.1);
      }

      /* Enhanced Trivia Game */
      .trivia-game-container .trivia-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 10px;
      }

      .trivia-stats {
        display: flex;
        gap: 15px;
      }

      .trivia-question {
        font-size: 1.2rem;
        margin-bottom: 20px;
        color: var(--light-text);
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 15px;
        background: rgba(30, 30, 45, 0.5);
        border-radius: 8px;
      }

      .trivia-options {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
        margin-bottom: 20px;
      }

      @media (min-width: 768px) {
        .trivia-options {
          grid-template-columns: 1fr 1fr;
        }
      }

      .trivia-option {
        padding: 15px;
        background: rgba(30, 30, 45, 0.7);
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        border: 1px solid transparent;
        text-align: left;
      }

      .trivia-option:hover {
        background: rgba(40, 40, 60, 0.9);
        border-color: var(--primary-pink);
        transform: translateY(-2px);
      }

      .trivia-option.selected {
        background: rgba(233, 30, 99, 0.2);
        border-color: var(--primary-pink);
      }

      .trivia-option.correct {
        background: rgba(76, 175, 80, 0.3);
        border-color: #4caf50;
      }

      .trivia-option.incorrect {
        background: rgba(244, 67, 54, 0.3);
        border-color: #f44336;
      }

      .trivia-result {
        text-align: center;
        font-size: 1.3rem;
        margin-top: 20px;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }

      /* Enhanced Virtual Rose */
      .rose-modal-content {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 16px;
        width: 100%;
        max-width: 500px;
        max-height: 90vh;
        box-shadow: var(--shadow-elevated);
        border: 1px solid var(--card-border);
        text-align: center;
        position: relative;
        animation: modalAppear 0.3s ease-out;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
      }

      .close-rose {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--muted-text);
        transition: var(--transition);
        z-index: 10;
      }

      .close-rose:hover {
        color: var(--primary-pink);
        transform: scale(1.1);
      }

      #rose-3d {
        font-size: 8rem;
        margin: 20px 0;
        animation: rotateRose 5s infinite linear;
        text-shadow: 0 0 20px rgba(233, 30, 99, 0.7);
        display: inline-block;
      }

      @keyframes rotateRose {
        0% {
          transform: rotateY(0deg);
        }
        100% {
          transform: rotateY(360deg);
        }
      }

      .rose-message {
        font-size: 1.3rem;
        margin: 20px 0;
        color: var(--light-text);
        font-style: italic;
        line-height: 1.5;
      }

      .rose-controls {
        margin-top: 20px;
      }

      /* Enhanced Footer */
      .footer {
        text-align: center;
        padding: 30px 20px;
        margin-top: 40px;
        color: var(--muted-text);
        font-size: 0.9rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .footer p {
        margin: 5px 0;
      }

      /* AI Love Letter Modal Specific Styles */
      .letter-content {
        max-height: 50vh;
        overflow-y: auto;
        padding: 15px;
        margin: 15px 0;
        text-align: left;
        line-height: 1.6;
        background: rgba(30, 30, 45, 0.3);
        border-radius: 8px;
        border: 1px solid var(--card-border);
      }

      .modal-buttons {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
        flex-wrap: wrap;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .header h1 {
          font-size: 2.5rem;
        }

        .intro-text {
          font-size: 1rem;
          padding: 15px;
        }

        .love-inputs {
          flex-direction: column;
          align-items: center;
        }

        .feature-nav {
          gap: 5px;
        }

        .feature-nav-btn {
          padding: 10px 15px;
          font-size: 0.9rem;
        }

        .memory-grid {
          grid-template-columns: repeat(3, 1fr);
        }

        #rose-3d {
          font-size: 5rem;
        }

        .notes-container {
          grid-template-columns: 1fr;
        }

        .feature-buttons {
          flex-direction: column;
          align-items: center;
        }

        .feature-buttons .btn {
          width: 80%;
          max-width: 250px;
        }

        /* Mobile-specific modal adjustments */
        .modal-content {
          padding: 15px;
          margin: 10px;
          max-height: 85vh;
        }

        .rose-modal-content {
          padding: 15px;
          margin: 10px;
          max-height: 85vh;
        }

        .letter-content {
          max-height: 40vh;
          padding: 10px;
        }

        .modal-buttons {
          flex-direction: column;
          align-items: center;
        }

        .modal-buttons .btn {
          width: 100%;
          max-width: 200px;
        }
      }

      @media (max-width: 480px) {
        .header h1 {
          font-size: 2rem;
        }

        .anniversary-date,
        .days-counter {
          font-size: 1rem;
        }

        .memory-game-header,
        .trivia-header {
          flex-direction: column;
          align-items: center;
        }

        .memory-stats,
        .trivia-stats {
          justify-content: center;
        }

        /* Extra small screen adjustments */
        .modal-content {
          padding: 10px;
        }

        .rose-modal-content {
          padding: 10px;
        }

        #rose-3d {
          font-size: 4rem;
        }

        .letter-content {
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Background animations -->
    <div id="hearts-container"></div>
    <div id="petals-container"></div>
    <div id="sparkles-container"></div>

    <!-- Music controls -->
    <div id="music-controls">
      <button id="music-toggle">♪</button>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <audio id="background-music" loop>
        <!-- In a real implementation, you would link to an actual audio file -->
        <!-- <source src="assets/music/romantic.mp3" type="audio/mpeg" /> -->
      </audio>
    </div>

    <!-- Confetti canvas -->
    <canvas id="confetti-canvas"></canvas>

    <!-- Main content -->
    <div class="container">
      <div class="content">
        <div class="header">
          <h1 id="animated-heading">💖 Happy Anniversary My Love 💖</h1>
          <div class="anniversary-date" id="anniversary-date"></div>
          <div class="days-counter" id="days-counter"></div>
        </div>

        <p class="intro-text slide-up">
          Every moment with you feels like a beautiful dream. Today, we
          celebrate another year of our incredible journey together. Through
          laughter, tears, and everything in between, you've been my constant,
          my rock, my everything.
        </p>

        <!-- Feature Navigation -->
        <div class="feature-nav">
          <div class="feature-nav-btn active" data-feature="love-calculator">
            Love Calculator
          </div>
          <div class="feature-nav-btn" data-feature="memory-game">
            Love Memory Match
          </div>
          <div class="feature-nav-btn" data-feature="trivia-game">
            Romantic Trivia
          </div>
          <div class="feature-nav-btn" data-feature="love-notes">
            Love Notes
          </div>
          <div class="feature-nav-btn" data-feature="candle">
            Virtual Candle
          </div>
        </div>

        <!-- Features Sections -->

        <!-- Love Calculator -->
        <div id="love-calculator" class="feature-section active">
          <div class="card love-calculator">
            <h2>Love Compatibility Calculator</h2>
            <p>Enter your names to see your love percentage!</p>

            <div class="love-inputs">
              <input type="text" id="name1" placeholder="Your Name" />
              <input type="text" id="name2" placeholder="Partner's Name" />
            </div>

            <button id="calculate-love" class="btn glow-btn">
              Calculate Love
            </button>

            <div class="love-result">
              <div class="love-meter">
                <div class="love-fill" id="love-fill"></div>
              </div>
              <div id="love-percentage">0%</div>
              <div id="love-message"></div>
            </div>
          </div>
        </div>

        <!-- Love Memory Match Game -->
        <div id="memory-game" class="feature-section">
          <div class="card memory-game-container">
            <div class="memory-game-header">
              <h2>Love Memory Match</h2>
              <div class="memory-stats">
                <div class="stat">Moves: <span id="move-count">0</span></div>
                <div class="stat">
                  Matches: <span id="match-count">0</span>/8
                </div>
                <div class="stat">Time: <span id="time-count">0</span>s</div>
              </div>
            </div>
            <p>Match the romantic symbols to win the game!</p>
            <div class="memory-grid" id="memory-grid">
              <!-- Cards will be populated by JavaScript -->
            </div>
            <button id="reset-memory" class="btn glow-btn">Reset Game</button>
          </div>
        </div>

        <!-- Romantic Trivia Game -->
        <div id="trivia-game" class="feature-section">
          <div class="card trivia-game-container">
            <div class="trivia-header">
              <h2>Romantic Trivia</h2>
              <div class="trivia-stats">
                <div class="stat">Score: <span id="score-count">0</span></div>
                <div class="stat">
                  Question: <span id="question-count">1</span>/5
                </div>
              </div>
            </div>
            <div class="trivia-question" id="trivia-question">
              Question will appear here
            </div>
            <div class="trivia-options" id="trivia-options">
              <!-- Options will be populated by JavaScript -->
            </div>
            <button id="next-trivia" class="btn glow-btn" style="display: none">
              Next Question
            </button>
            <div class="trivia-result" id="trivia-result"></div>
          </div>
        </div>

        <!-- Digital Love Notes -->
        <div id="love-notes" class="feature-section">
          <div class="notes-container" id="notes-container">
            <!-- Notes will be populated by JavaScript -->
            <div class="love-note add-note" id="add-note">+</div>
          </div>

          <!-- Note Modal -->
          <div class="modal" id="note-modal">
            <div class="modal-content">
              <span class="close">&times;</span>
              <h3>Add a Love Note</h3>
              <textarea
                id="note-text"
                placeholder="Write your love note here..."
              ></textarea>
              <div style="display: flex; gap: 10px; justify-content: center">
                <button id="save-note" class="btn glow-btn">Save Note</button>
                <button
                  id="cancel-note"
                  class="btn"
                  style="background: rgba(255, 255, 255, 0.1)"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Virtual Candle -->
        <div id="candle" class="feature-section">
          <div class="card candle-container">
            <h2>Virtual Candle</h2>
            <p>Light a virtual candle for our love</p>

            <div class="candle">
              <div class="candle-body"></div>
              <div class="candle-wick"></div>
              <div class="candle-flame" id="candle-flame"></div>
            </div>

            <button id="light-candle" class="btn glow-btn">
              Light the Candle
            </button>

            <div class="candle-message" id="candle-message">
              Click the button to light the candle of our love
            </div>
          </div>
        </div>

        <!-- Feature Buttons -->
        <div class="feature-buttons">
          <button id="ai-love-letter" class="btn glow-btn">
            AI Love Letter
          </button>
          <button id="virtual-rose" class="btn glow-btn">Virtual Rose</button>
          <button id="view-memories" class="btn glow-btn">View Memories</button>
        </div>
      </div>
    </div>

    <!-- AI Love Letter Modal -->
    <div class="modal" id="ai-love-letter-modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>AI-Generated Love Letter</h2>
        <div class="letter-content" id="letter-content">
          <!-- Love letter content will be generated here -->
        </div>
        <div class="modal-buttons">
          <button id="copy-letter" class="btn glow-btn">Copy Letter</button>
          <button id="regenerate-letter" class="btn glow-btn">
            Regenerate
          </button>
          <button id="close-letter" class="btn">Close</button>
        </div>
      </div>
    </div>

    <!-- Virtual Rose Modal -->
    <div class="modal" id="virtual-rose-modal">
      <div class="rose-modal-content">
        <span class="close-rose">&times;</span>
        <h2>A Virtual Rose for You</h2>
        <div id="rose-3d">🌹</div>
        <div class="rose-message" id="rose-message">
          This rose represents my never-ending love for you. Every petal holds a
          memory of our beautiful journey together.
        </div>
        <div class="rose-controls">
          <button id="change-rose-color" class="btn glow-btn">
            Change Color
          </button>
          <button id="close-rose" class="btn">Close</button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>Made with 💖 for the most amazing person in my life</p>
      <p>Our love story continues...</p>
    </div>

    <script>
      // DOM elements
      const aiLoveLetterBtn = document.getElementById("ai-love-letter");
      const aiLoveLetterModal = document.getElementById("ai-love-letter-modal");
      const letterContent = document.getElementById("letter-content");
      const copyLetterBtn = document.getElementById("copy-letter");
      const regenerateLetterBtn = document.getElementById("regenerate-letter");
      const closeLetterBtn = document.getElementById("close-letter");
      const closeModalBtns = document.querySelectorAll(".close");

      // Modal functionality
      aiLoveLetterBtn.addEventListener("click", function () {
        generateLoveLetter();
        aiLoveLetterModal.style.display = "flex";
      });

      // Close modal when clicking on X
      closeModalBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          aiLoveLetterModal.style.display = "none";
        });
      });

      // Close modal when clicking outside
      window.addEventListener("click", function (event) {
        if (event.target === aiLoveLetterModal) {
          aiLoveLetterModal.style.display = "none";
        }
      });

      // Close letter button
      closeLetterBtn.addEventListener("click", function () {
        aiLoveLetterModal.style.display = "none";
      });

      // Copy letter functionality
      copyLetterBtn.addEventListener("click", function () {
        const textToCopy = letterContent.innerText;
        navigator.clipboard
          .writeText(textToCopy)
          .then(() => {
            alert("Love letter copied to clipboard!");
          })
          .catch((err) => {
            console.error("Failed to copy text: ", err);
          });
      });

      // Regenerate letter
      regenerateLetterBtn.addEventListener("click", generateLoveLetter);

      // Generate love letter
      function generateLoveLetter() {
        const loveLetters = [
          `My Dearest Love,

          On this special day, I find myself reflecting on the incredible journey we've shared. From our first meeting to this beautiful anniversary, every moment with you has been a treasure.

          Your smile brightens my darkest days, your laughter is my favorite melody, and your love is the anchor that keeps me grounded. Through challenges and triumphs, you've stood by my side, making every step of our journey meaningful.

          I love the way your eyes sparkle when you talk about your passions, the warmth of your embrace after a long day, and the comfort of simply being with you. You are my best friend, my confidant, and my greatest blessing.

          As we celebrate another year together, I promise to continue cherishing you, supporting your dreams, and building a future filled with love, laughter, and endless adventures.

          Forever yours,
          With all my love`,

          `My Beloved,

          Happy anniversary to the person who completes me in every way. Today marks another year of shared dreams, laughter, and the beautiful life we're building together.

          I remember the first time I saw you, and how my heart instantly knew you were special. Little did I know that you would become my everything - my partner, my inspiration, my home.

          Your kindness touches everyone around you, your strength inspires me to be better, and your love has transformed my world in ways I never imagined possible. With you, I've discovered the true meaning of partnership and unconditional love.

          Through seasons of change and moments of stillness, our love has only grown stronger. I cherish our inside jokes, our deep conversations, and the comfortable silence we share.

          Here's to us, to our love story, and to all the beautiful chapters yet to be written. I look forward to growing old with you, creating more memories, and loving you more with each passing day.

          All my love, forever`,

          `To My Soulmate,

          On this anniversary, I want to express how grateful I am to have you in my life. You are not just my partner; you are my greatest adventure, my safe harbor, and my reason to smile every day.

          I love how we can be completely ourselves with each other - the good, the bad, and everything in between. With you, I've found a love that accepts, understands, and celebrates every part of me.

          Your presence in my life has brought colors I never knew existed. You've taught me the depth of true connection and the beauty of shared dreams. Every challenge we've faced has only made us stronger, and every joy we've experienced has been magnified because we shared it together.

          As we celebrate this milestone, I want you to know that my love for you grows with each sunrise. You are the first thought in my morning and the last in my night.

          Thank you for being you, for loving me, and for making every day an opportunity to fall in love all over again.

          Yours eternally`,
        ];

        const randomLetter =
          loveLetters[Math.floor(Math.random() * loveLetters.length)];
        letterContent.innerHTML = `<p>${randomLetter.replace(
          /\n/g,
          "<br>"
        )}</p>`;
      }

      // Initialize with a love letter
      generateLoveLetter();

      // Other functionality would go here...
      // For the sake of this example, I'm focusing on the modal fix

      // Feature navigation
      const featureNavBtns = document.querySelectorAll(".feature-nav-btn");
      const featureSections = document.querySelectorAll(".feature-section");

      featureNavBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          const feature = this.getAttribute("data-feature");

          // Update active button
          featureNavBtns.forEach((b) => b.classList.remove("active"));
          this.classList.add("active");

          // Show corresponding section
          featureSections.forEach((section) => {
            section.classList.remove("active");
            if (section.id === feature) {
              section.classList.add("active");
            }
          });
        });
      });

      // Days counter
      function updateAnniversaryDate() {
        const anniversaryDate = new Date("2022-06-15"); // Example date
        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
        };
        document.getElementById(
          "anniversary-date"
        ).textContent = `Since ${anniversaryDate.toLocaleDateString(
          "en-US",
          options
        )}`;

        // Calculate days together
        const today = new Date();
        const timeDiff = today.getTime() - anniversaryDate.getTime();
        const daysTogether = Math.floor(timeDiff / (1000 * 3600 * 24));
        document.getElementById(
          "days-counter"
        ).textContent = `${daysTogether} days of love and counting!`;
      }

      updateAnniversaryDate();

      // Love calculator
      document
        .getElementById("calculate-love")
        .addEventListener("click", function () {
          const name1 = document.getElementById("name1").value || "You";
          const name2 = document.getElementById("name2").value || "Your Love";

          // Simple love calculation (for demonstration)
          const lovePercentage = Math.floor(Math.random() * 31) + 70; // 70-100%

          document.getElementById(
            "love-percentage"
          ).textContent = `${lovePercentage}%`;
          document.getElementById(
            "love-fill"
          ).style.width = `${lovePercentage}%`;

          const messages = [
            "A perfect match made in heaven!",
            "Your love story is truly magical!",
            "You two are soulmates destined to be together!",
            "Your connection is deep and meaningful!",
            "This is a love that will stand the test of time!",
          ];

          const randomMessage =
            messages[Math.floor(Math.random() * messages.length)];
          document.getElementById("love-message").textContent = randomMessage;
        });

      // Virtual Rose Modal
      const virtualRoseBtn = document.getElementById("virtual-rose");
      const virtualRoseModal = document.getElementById("virtual-rose-modal");
      const closeRoseBtn = document.getElementById("close-rose");
      const changeRoseColorBtn = document.getElementById("change-rose-color");
      const rose3d = document.getElementById("rose-3d");

      virtualRoseBtn.addEventListener("click", function () {
        virtualRoseModal.style.display = "flex";
      });

      closeRoseBtn.addEventListener("click", function () {
        virtualRoseModal.style.display = "none";
      });

      changeRoseColorBtn.addEventListener("click", function () {
        const roseColors = ["🌹", "🌺", "🌸", "💐", "🏵️"];
        const randomRose =
          roseColors[Math.floor(Math.random() * roseColors.length)];
        rose3d.textContent = randomRose;
      });

      // Close rose modal when clicking outside
      window.addEventListener("click", function (event) {
        if (event.target === virtualRoseModal) {
          virtualRoseModal.style.display = "none";
        }
      });

      // Initialize with some background animations
      function createBackgroundAnimation() {
        // This would create hearts, petals, and sparkles
        // For brevity, we'll just add a simple implementation
        const heartsContainer = document.getElementById("hearts-container");
        for (let i = 0; i < 15; i++) {
          const heart = document.createElement("div");
          heart.innerHTML = "💖";
          heart.classList.add("heart");
          heart.style.left = `${Math.random() * 100}%`;
          heart.style.top = `${Math.random() * 100}%`;
          heart.style.fontSize = `${Math.random() * 20 + 10}px`;
          heart.style.animation = `float ${Math.random() * 10 + 5}s infinite`;
          heartsContainer.appendChild(heart);
        }
      }

      createBackgroundAnimation();
    </script>
  </body>
</html>
